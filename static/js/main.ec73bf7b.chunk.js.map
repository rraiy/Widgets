{"version":3,"sources":["components/Accordion.js","components/Search.js","components/Dropdown.js","components/Convert.js","components/Translate.js","components/Route.js","components/Header.js","App.js","index.js"],"names":["Accordion","items","useState","activeIndex","setActiveIndex","renderItem","map","item","index","active","Fragment","className","onClick","onTitleClick","title","content","Search","term","setTerm","results","setResults","useEffect","search","a","axios","get","params","action","list","origin","format","srsearch","data","query","length","timeID","setTimeout","clearTimeout","renderResults","result","href","pageid","dangerouslySetInnerHTML","__html","snippet","htmlFor","id","type","onChange","e","target","value","Dropdown","label","options","selected","onSelectedChange","openDropdown","setOpenDropdown","formRef","useRef","onBodyClick","current","contains","document","body","addEventListener","capture","removeEventListener","renderOptions","option","ref","Convert","text","language","translation","setTranslation","debouncedText","setDebouncedText","timerId","post","q","key","translations","translatedText","translate","Translate","setLanguage","setText","Route","path","children","window","location","pathname","Header","App","setSelected","showDropdown","setShowDropdown","style","width","display","flexDirection","margin","marginBottom","color","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ec73bf7b.chunk.js","sourcesContent":["import React, {useState} from 'react';\n\nconst Accordion = ({items}) => {\n\n    const [activeIndex, setActiveIndex] = useState(null)\n    \n    const onTitleClick = index => {\n        setActiveIndex(index);\n    }\n\n    let renderItem = items.map((item, index) => {\n        const active = index === activeIndex ? 'active':'';\n\n        return (\n            <React.Fragment key={item.title}>\n                <div className={`title ${active}`} onClick={()=>onTitleClick(index)}>\n                    <i className=\"dropdown icon\"></i>\n                    {item.title}\n                </div>\n                <div className={`content ${active}`}>{item.content}</div>\n            </React.Fragment>\n        )\n    })\n\n\n\n    return(\n        <div  className=\"ui styled accordion\">\n            {renderItem}\n        </div>\n    )\n}\n\nexport default Accordion;","import axios from 'axios';\nimport React, {useState, useEffect} from 'react';\n\nconst Search = () => {\n\n    const [term, setTerm] = useState('');\n    const [results, setResults] = useState([]);\n    \n\n    useEffect(() => {\n        const search = async () => {\n            // 解構 只拿取回應中 data的值\n            const {data} = await axios.get(\"https://en.wikipedia.org/w/api.php\",{\n                params:{\n                    action:'query',\n                    list:'search',\n                    origin:'*',\n                    format:'json',\n                    srsearch:term\n                }\n            });\n            \n            setResults(data.query.search);\n        }\n\n        if (term && !results.length){ // 解決最初載入時，第一次搜索還得等上一秒的不佳體驗\n            search();\n        }else{\n            const timeID = setTimeout(() => {\n                if(term){ //避免空值送出搜索 api會報錯且拿回的東西沒有search 直接undefined\n                    search();\n                }\n            }, 1000)\n    \n            return () => {\n                clearTimeout(timeID);\n            }\n        }\n    }, [term])\n\n    const renderResults = results.map(result => {\n        return (\n            <div key={result.pageid} className=\"item\">\n                <div className=\"right floated content\">\n                    <a href={`https://en.wikipedia.org?curid=${result.pageid}`} className=\"ui button\"> GO </a>\n                </div>\n                <div className=\"content\">\n                    <div className=\"header\">\n                        {result.title}\n                    </div>\n                    <span dangerouslySetInnerHTML={{__html:result.snippet}}></span>\n                </div>\n            </div>\n        )\n    })\n\n    return (\n        <>\n        <div className=\"ui form\">\n            <div className=\"field\">\n                <label htmlFor=\"keyword\">輸入搜尋字詞</label>\n                <input id=\"keyword\" type=\"text\" className=\"input\" onChange={e => setTerm(e.target.value)} value={term} />\n            </div>\n            \n        </div>\n        <div className=\"ui celled list\">{renderResults}</div>\n        </>\n    )\n}\n\n\nexport default Search;","import React, {useState, useEffect, useRef} from 'react';\n\nconst Dropdown = ({label,options, selected, onSelectedChange}) => {\n\n    const [openDropdown, setOpenDropdown] = useState(false);\n    const formRef = useRef();\n\n    useEffect(() => {\n        const onBodyClick = e => {\n            if(formRef.current.contains(e.target)){\n                return;\n            }\n            setOpenDropdown(false);\n        }\n\n        document.body.addEventListener('click',onBodyClick,{capture: true});\n\n        return () => {\n            document.body.removeEventListener('click',onBodyClick,{capture: true});\n        }\n    },[])\n\n    const renderOptions = options.map(option=>{\n\n        if (option.value === selected.value){ //avoid selected item show on the dropdown list\n            return null;\n        }\n\n        return(\n            <div className=\"item\" \n                key={option.value}\n                onClick={()=>{onSelectedChange(option)}}>\n                {option.label}</div>\n        )\n    })\n\n\n    return (\n        \n        <div ref={formRef} className=\"ui form\">\n            <div className=\"field\">\n                <label htmlFor=\"\" className=\"label\">{label}</label>\n                <div\n                    onClick={()=>setOpenDropdown(!openDropdown)}\n                    className={`ui selection dropdown ${openDropdown ? 'visible active':''}`}>\n                    <i className=\"dropdown icon\"></i>\n                    <div className=\"text\">{selected.label}</div>\n                    <div className={`menu ${openDropdown ? 'visible transition':''}`}>{renderOptions}</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Dropdown;","import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nconst key = \"AIzaSyCHUCmpR7cT_yDFHC98CZJy2LTms-IwDlM\";\n\nconst Convert = ({text, language}) => {\n\n    const [translation, setTranslation] = useState('');\n    const [debouncedText, setDebouncedText] = useState(text);\n\n    useEffect(() => {\n        const timerId = setTimeout(()=>{\n            setDebouncedText(text);\n        },500)\n\n        return () => {clearTimeout(timerId)};\n    },[text])\n\n    useEffect(() => {\n        const translate = async () => {\n            const {data} = await axios.post('https://translation.googleapis.com/language/translate/v2',{},{\n                params: {\n                    q:debouncedText,\n                    target:language.value,\n                    key:key\n                }\n            });\n            setTranslation(data.data.translations[0].translatedText);\n        }\n        \n        translate();\n        \n    },[debouncedText, language]);\n\n\n\n\n    return(\n        <div>\n            <h1 className=\"ui header\">{translation}</h1>\n        </div>\n    )\n}\n\nexport default Convert;","import React, {useState, useEffect}from 'react';\nimport Dropdown from './Dropdown';\nimport Convert from './Convert';\n\n\n\n\nconst options = [\n    {\n        label:'Afrikaans',\n        value:'af'\n    },\n    {\n        label:'Arabic',\n        value:'ar'\n    },\n    {\n        label:'Hindi',\n        value:'hi'\n    }\n];\n\n\nconst Translate = () => {\n    const [language, setLanguage] = useState(options[0]);\n    const [text, setText] = useState('');\n\n \n\n    return (\n        <div>\n            <div className=\"ui form\">\n                <div className=\"field\">\n                    <label htmlFor=\"\">Enter text</label>\n                    <input type=\"text\" value={text}  onChange={e=>setText(e.target.value)}/>\n                </div>\n            </div>\n            <Dropdown \n                label=\"Select a language\" \n                options={options} \n                selected={language} \n                onSelectedChange={setLanguage}/>\n            \n            <h3 className=\"ui header\">Output</h3>\n            <Convert language={language} text={text} />\n        </div>\n    )\n}\n\nexport default Translate;","// Route.js\n\n\nconst Route = ({path, children}) => {\n\n    return window.location.pathname === path ? children : null;\n}\n\nexport default Route;","// Header.js\n\nconst Header = () => {\n\n    return (\n        <div className=\"ui secondary pointing menu\">\n            <a href=\"/\" className=\"item\" >\n                Accordion\n            </a>\n            <a href=\"/search\" className=\"item\" >\n                Search\n            </a>\n            <a href=\"/dropdown\" className=\"item\" >\n                Dropdown\n            </a>\n            <a href=\"/translate\" className=\"item\" >\n                Translate\n            </a>\n        </div>\n    )\n}\n\nexport default Header;","import React, {useState, useEffect} from 'react';\nimport Accordion from './components/Accordion';\nimport Search from './components/Search';\nimport Dropdown from './components/Dropdown';\nimport Translate from './components/Translate';\nimport Route from './components/Route';\nimport Header from './components/Header';\n\nconst items = [\n    {\n        title:'What is React?',\n        content:'React，是一個為資料提供彩現為HTML視圖的開源JavaScript 庫。React視圖通常採用包含以自訂HTML標記規定的其他組件的組件彩現。'\n    },\n    {\n        title:'Why use React?',\n        content:'提供了一種子組件不能直接影響外層組件的模型，資料改變時對HTML文件的有效更新，和現代單頁應用中組件之間乾淨的分離。'\n    },\n    {\n        title:'How to use React?',\n        content:'因為 component 的邏輯是用 JavaScript 寫的而不是使用其他樣板語言，你可以輕鬆的在你的程式中傳遞複雜的資料而不需將其藏在 DOM 之中。'\n    }\n]\n\nconst options = [\n    {\n        label:'The  Color Red',\n        value:'red'\n    },\n    {\n        label:'The  Color Green',\n        value:'green'\n    },\n    {\n        label:'The  Color Blue',\n        value:'blue'\n    }\n]\n\nconst App = () =>{\n\n    const [selected, setSelected] = useState(options[0])\n    const [showDropdown, setShowDropdown] = useState(true)\n    \n    return (\n        \n        <div style={{width:'400px', display:\"flex\", flexDirection:'column', margin:\"0 auto\"}}>\n            <Header/>\n            <Route path=\"/\">\n            <h2>Accordion</h2>\n                <Accordion style={{marginBottom:\"20px\"}} items={items} />\n            </Route>\n\n            <Route path=\"/search\">\n            <h2>Search</h2>\n                <Search style={{marginBottom:\"20px\"}} />\n            </Route>\n\n            <Route path=\"/dropdown\">\n                <h2>Dropdown</h2>\n                <button onClick={()=>{setShowDropdown(!showDropdown)}}>show/close Dropdown</button>\n                {\n                    showDropdown?\n                    <>\n                    <Dropdown label=\"Select a color.\" options={options} selected={selected} onSelectedChange={setSelected}/>\n                    <div style={{color:`${selected.value}`}}>The text will change color.</div>\n                    <br />\n                    </>\n                    :null\n                }\n            </Route>\n            \n            <Route path=\"/translate\">\n                <h2>Translate (sorry, can't used the api on public domain)</h2>\n                <Translate/>  \n            </Route>\n        </div>\n    )\n\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\n\nif(module.hot){\n    module.hot.accept();\n}\n\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}